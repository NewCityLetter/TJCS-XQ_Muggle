#ifndef PREMOVE_H
#define PREMOVE_H
#pragma once

#include "base.h"
#include "board.h"

struct PreMove
{
    uint8 kingPreMove[8][256];
    uint8 advisorPreMove[8][256];
    uint8 bishopPreMove[8][256];
    uint8 bishopEye[8][256];
    uint8 knightPreMove[12][256];
    uint8 knightLeg[12][256];
    uint8 pawnPreMove[2][4][256];
    int16 rookLinePreMove[12][4096][2];  //位置/状态/左右
    int16 rookColPreMove[13][8192][2];   //位置/状态/左右

    int16 cannonLinePreCap[12][4096][2]; //位置/状态/左右
    int16 cannonColPreCap[13][8192][2];  //位置/状态/左右

    int16 cannonSupLine[12][4096][2];//位置/状态/左右
    int16 cannonSupCol[13][8192][2]; //位置/状态/左右

};
static int bitMaskLine[256]={
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
    0,   0,   0,   8,  16,  32,  64, 128, 256, 512,1024,2048,   0,   0,   0,   0,
    0,   0,   0,   8,  16,  32,  64, 128, 256, 512,1024,2048,   0,   0,   0,   0,
    0,   0,   0,   8,  16,  32,  64, 128, 256, 512,1024,2048,   0,   0,   0,   0,
    0,   0,   0,   8,  16,  32,  64, 128, 256, 512,1024,2048,   0,   0,   0,   0,
    0,   0,   0,   8,  16,  32,  64, 128, 256, 512,1024,2048,   0,   0,   0,   0,
    0,   0,   0,   8,  16,  32,  64, 128, 256, 512,1024,2048,   0,   0,   0,   0,
    0,   0,   0,   8,  16,  32,  64, 128, 256, 512,1024,2048,   0,   0,   0,   0,
    0,   0,   0,   8,  16,  32,  64, 128, 256, 512,1024,2048,   0,   0,   0,   0,
    0,   0,   0,   8,  16,  32,  64, 128, 256, 512,1024,2048,   0,   0,   0,   0,
    0,   0,   0,   8,  16,  32,  64, 128, 256, 512,1024,2048,   0,   0,   0,   0,
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0
};

static int bitMaskCol[256]={
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
    0,   0,   0,   8,   8,   8,   8,   8,   8,   8,   8,   8,   0,   0,   0,   0,
    0,   0,   0,  16,  16,  16,  16,  16,  16,  16,  16,  16,   0,   0,   0,   0,
    0,   0,   0,  32,  32,  32,  32,  32,  32,  32,  32,  32,   0,   0,   0,   0,
    0,   0,   0,  64,  64,  64,  64,  64,  64,  64,  64,  64,   0,   0,   0,   0,
    0,   0,   0, 128, 128, 128, 128, 128, 128, 128, 128, 128,   0,   0,   0,   0,
    0,   0,   0, 256, 256, 256, 256, 256, 256, 256, 256, 256,   0,   0,   0,   0,
    0,   0,   0, 512, 512, 512, 512, 512, 512, 512, 512, 512,   0,   0,   0,   0,
    0,   0,   0,1024,1024,1024,1024,1024,1024,1024,1024,1024,   0,   0,   0,   0,
    0,   0,   0,2048,2048,2048,2048,2048,2048,2048,2048,2048,   0,   0,   0,   0,
    0,   0,   0,4096,4096,4096,4096,4096,4096,4096,4096,4096,   0,   0,   0,   0,
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0
};

extern PreMove preMove;

void GetPreMove();

#endif 